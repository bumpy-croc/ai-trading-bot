- Summary\n  - Unify live/backtesting behavior with parity as default and a single legacy toggle.\n  - Extract shared modules (indicators, sentiment, sizing) and wire both engines.\n  - Ensure backtest results mirror live behavior under parity.\n\n- Current status\n  - Branches: feat/parity-shared-modules, test/parity-shared-modules.\n  - Implemented: shared modules; engines wired; parity defaults; live timeframe/TP fix; OHLCV-only warmup.\n  - Tests: unit tests for shared modules in a separate PR.\n\n- Tasks\n  - [x] Shared modules and wiring\n  - [x] Parity defaults + flag (legacy_engine_behavior=false)\n  - [x] Live timeframe/TP fix\n  - [x] Shared unit tests (separate PR)\n  - [ ] Integrate shared decision_logger across engines\n  - [ ] Add performance_tracker and adopt both engines\n  - [ ] Introduce engine_step and refactor backtester\n  - [ ] Refactor live to engine_step\n  - [ ] Add portfolio (max positions) and integrate\n  - [ ] Execution adapters (paper/live)\n  - [ ] Parity harness + CI; docs updates\n\n- Acceptance criteria\n  - Full test suite green.\n  - Parity harness shows identical entries/exits/PnL under parity flags.\n  - Engines share core modules/decisions.\n\n- Risks\n  - Sizing interpretation; mitigated by legacy flag.\n  - Logging schema differences; validated by DB tests.\n\n- References\n  - Key files: src/trading/shared/*, src/live/trading_engine.py, src/backtesting/engine.py, feature_flags.json\n  - Parity default; use legacy_engine_behavior=true for legacy semantics.\n