{"event": "COMMENT", "body": "### Review\n- \ud83d\udd34 Critical: `_run_backtest` now rejects valid backtest results with a MultiIndex containing the `timestamp` level. Please handle MultiIndex indices before raising.\n\n### Next steps\n- Address the issue above, then re-request review.\n\n---\nLaunch follow-up agent: [Run hunt agent](https://app.cursor.sh/run-agent?agent=cursor/hunt-for-critical-issues-in-pr-review-bb59)\n", "comments": [{"path": "src/strategies/components/testing/performance_comparison_engine.py", "line": 317, "side": "RIGHT", "body": "\ud83d\udd34 Critical: `results.index.name == 'timestamp'` misses MultiIndex results where `timestamp` is a level name. Pandas sets `MultiIndex.name` to `None` even when one level is named 'timestamp', so we skip the reset and raise the new ValueError. Strategies that emit multi-level indices (timestamp + symbol, timeframe, etc.) now fail, even though the data is valid once `reset_index(level='timestamp')` is applied. Please look for `'timestamp'` in `results.index.names` (or explicitly handle MultiIndex) before raising."}]}