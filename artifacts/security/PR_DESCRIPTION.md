# chore: nightly code quality fixes (2025-08-21)

## Summary

This PR contains automated code quality improvements and security audits for the nightly maintenance cycle.

### Changes Applied

#### Code Formatting & Linting
- **Ruff (0.5.0)**: Fixed 4 linting issues, including 2 bare `except` clauses (E722)
- **Black (24.4.2)**: Formatted 3 files for consistent code style
- **Import Sorting**: Organized imports according to project configuration

#### Files Modified
- `src/live/trading_engine.py` - Fixed bare except clause
- `src/strategies/ml_adaptive.py` - Code formatting
- `tests/unit/live/test_cpu_optimizations.py` - Fixed bare except clause

### Security & Quality Analysis

#### MyPy Type Checking
- **Status**: ✅ No issues found in src/ directory
- **Configuration**: Used `mypy.ini` with Python 3.11 settings

#### Bandit Security Analysis  
- **Status**: ⚠️ 28 low-risk findings detected
- **Issues**: Primarily B110 (try-except-pass) and B311 (random usage in demo data)
- **Location**: Most issues in `src/monitoring/demo_data.py` (demo/test code)
- **Assessment**: Low risk - issues are in demo/testing code, not production paths

#### Dependency Vulnerabilities (pip-audit)
- **Status**: ⚠️ 6 vulnerabilities found in 5 packages
- **Critical Issues**:
  - `requests 2.31.0` → Upgrade to 2.32.4+ (SSL bypass, credential leakage)
  - `nltk 3.8.1` → Upgrade to 3.9+ (RCE via pickled packages)
  - `scikit-learn 1.3.2` → Upgrade to 1.5.0+ (data leakage)
  - `protobuf 3.20.3` → Upgrade to 4.25.8+ (DoS via recursion)
  - `eventlet 0.35.1` → Upgrade to 0.35.2+ (DNS attack)

### Test Results
- **Status**: ✅ All tests passing
- **Results**: 307 passed, 63 skipped
- **Duration**: 2m 14s
- **No regressions** introduced by formatting/linting changes

### Artifacts Generated
- `artifacts/security/pip-audit.json` - Detailed vulnerability report
- `artifacts/security/pip-audit.md` - Human-readable security summary

### Recommendations for Follow-up

1. **High Priority**: Update `requests` and `nltk` dependencies (security-critical)
2. **Medium Priority**: Update `scikit-learn` and `protobuf` (data protection)
3. **Low Priority**: Review bandit findings in demo code for best practices

---

**Labels**: maintenance, automated  
**Reviewers**: None (automated maintenance)

*This PR was generated by the nightly code quality maintenance process.*