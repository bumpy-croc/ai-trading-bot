- Use `python tests/run_tests.py` to run tests; do not add custom runners.
- Default parallelism is 4 workers locally; CI uses 2.
- Categories: smoke, unit, integration, critical, fast, slow, grouped, benchmark.
- Prefer markers over fragile selection: e.g., `-m "not integration and not slow"`.
- Keep tests stateless; use fixtures; avoid global state.
- Mock external APIs; do not hit real exchanges in unit tests.
- Integration tests are sequential.
- Keep test data under `tests/data/`; avoid large new binaries.
