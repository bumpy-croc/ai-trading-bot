Fix the issues from the latst review in this PR. 
- Use the github CLI to get the latest PR review comments. Filter out any marked as resolved.
- Assess the validity of the comments and investigate if there is anything to fix
- If a fix is necessary, implement it.
- Make small atomic commits on the PR pranch for each issue you fix.
- Push the commits after you're done resolving all the issues.
